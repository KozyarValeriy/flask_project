# Веб приложение для просмотра больших файлов, а также выборки по файлу

Просмотр наиболее корректно работает со структурированными файлами (csv файлы)

### ***Для запуска приложени:***
>python3 run.py

### **Описание**

Backend приложения написан на Python 3 (Flask) и предоставляет REST api к файлам на сервере.

1. Для просмотра содержимого папки используется следующий url: /api/v1/openfolder/<path>, где <path> - путь к папке
   (системные разделители заменены на трубу - |).
   
   Ответ в виде JSON: {"bread": [...], "filelist": [...]}, где
      bread - список всех промежуточный путей от корня до текущей директории
              в виде словарей {"foldername": "Имя_текущей_папки",
                               "folderfullname": "Путь_до_текущей_папки"}
      filelist - список из текущих папок и файлов в данной директории
                 в видк словаря {'filename': "Имя_файла",
                                 'size': размер_файла_в_байтах (для папок - 0),
                                 'type': "Тип",  # может быть "file", "folder", "unknown"
                                 'fullfilename': "Полный_путь_до_файла/папки"}
                           
2. Для получнеия содеримого файла используется следующий url: /api/v1/openfile/<filename>, где 
    <filename> - путь до файла (системные разделители заменены на трубу - |).
    GET параметры запроса: 
        query - запрос для выборки, напрмер: age > 18. (Допустимые знаки: [=, <, >, |, &, like]. Кавычки для строк - одинарные)
                также в запросе поддерживаются скобки.
        step - направление чтения файла (prev - в от startByte вверх, next - от startByte вниз. Default - next)
        startByte - байт, с которого начинать чтение файла
        countLines - требуемое кол-во строк в файле
    Ответ в виде JSON:
        {"header": [cell_head_1, cell_head_2, ... , cell_head_N],
         "types":  [cell_type_1, cell_type_2, ... , cell_type_N],
         "data":  [[cell_1, cell_2, ... , cell_N],
                   [cell_1, cell_2, ... , cell_N],
                                ...
                   [cell_1, cell_2, ... , cell_N]],
         "stopByte": байт_начала_окна,
         "startByte": байт_конца_окна}
  
Frontend часть реализована с помощью JavaScript, используются ajax запросы.

Вывод файлов осуществляется в DataTable. 

